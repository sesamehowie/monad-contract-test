import time
from src.interfaces.interfaces import FinalPredictionInterface

OPERATOR_ADDRESS = "0xE45C3674E5672A391dC9367F0e94A3cE1049c177"
current_epoch = 1


def test_prediction_final(client):
    interface = FinalPredictionInterface

    commands = [
        # {"name": "genesisStartRound", "args": [], "value": 0},
        # {
        #     "name": "genesisLockRound",
        #     "args": [
        #         [
        #             "0x504e41550100000003b801000000040d0389dfc581d16f74002b08bc939be43d3bfb08e63272b934c56d4f06eb91361a180fc6273421ac686eeebcb98c16d82ba40f6c8649bb820ddae4a4ffac7250b0060004389ba60d399105fc6589a150074243b75c569b5fedc5be21399eb807972677d5481fe7d04c1d5ab1593ec422d67c4c8e88032c28e2caa057a32f12a8cdcf8c8b00064f849393a2a6529b9073f9f31bedf3f02db1f28559dba2bf6d8796287357026859d19f1f6be305083cd473c816361c7a67449260d417d70cdce6a3adf5c436c301085565284cc57bbf4c42f00b2d0df6aee034ec22eefb6d63c70008a85b0099122b1f59ed6e8922c8f2a0635a61ced6ec80a53482dec8953dd6c84e8b1f31d025ad000a52d83ce809ac9324102941a0efdad051d5ac65a4b7ba2ba8126e31af696cf53a13ba380a9fa87fdf359ff54ef350272e25d54a6fe186824150e08a86a6eadcdb000b63dae73975d3d47f1ab8230fef0bf15fd228ac3cfa3e7320c336a0ec0f3883ce6efd568b3f8d101996bd9bbf56d89c58c800dff953a2c16655d1d04642ba042a010cbb6c48fe3e0d37b279a12b86cef9e258994c3b524320776d5b44edbd3031f7f9176a84c6c190c1d109b6b94ffbb2b34baacf986776018e3212ad1a250edde0c1000d6e414f50de34b1a1bd8c8df3f89e230e0b9d004f836c998bbd0377a036b4341740aa3d5189b023ac9499a210ecdc2d167652257bb637778e3cfd904ae197ef17010ee43f6142ad9c46f615ed0212f91e28ef50090a2f88ecdfbf0f3edcf5cf2bedb04871c6a951674ee62c997c171d3d15be7b51a4f3230472eb88af75d47620a349000fa6e2a8b069be57644d08fdc92f02306e511e14e3d8c3291a52bb3e8f646954e26cc2391167e99156105dee9ca382cabbf60d3f62fe50164d3893b69cd93e04e80110b787bcaba98d77f0d23a92432b9cb7400eec8a9a3ce17c691504aa123f2880bf21526643753cdf8925c4fd672a2555c1ac4f7c839ab78e8c0ef7a1da52351fb5011185a1f2171fb1343b0df19398e8407db9cf5d588f1d75cbf2a33716e433be86aa76c309b7089bbb416ea28d489133f81565ff88a4943c646cd7717f90ac1564190112f999928b03888e6a55d804247d40c9f87fc03eda6fe36bba45afde30474bcaec268efdce7ae374a55bbef7192ce901876b15f925541c988a0e8f86cc120d511d01687f9ab600000000001ae101faedac5851e32b9b23b5f9411a8c2bac4aae3ed4dd7b811dd1a72ea4aa710000000008bd5d54014155575600000000000dcaed0a00002710c119ca8c99ca49275890cfe1a6c72f932d7fb6b401005500e62df6c8b4a85fe1a67db44dc12de5db330f7ac66b72dc658afedf0f4a415b4300000abb11df29c0000000013a02859efffffff800000000687f9ab600000000687f9ab600000ad2fcf7ace00000000113b0c2c80c1afa1e411b3315717fcbf5d233cc424edef53b9dd6e2293b1096e332a180027429359310b0ecebb10cbb46a01932cdc1184a2ebefb3b0fc81aecea86414b1d2360911dcf371f16ecc646a64041d8c0f44259329b66081d8a29434312fb0428a5f8508a8c6a414682d27c5ba4fb3d65bfb3293235147c72933488901e8371277254df909a1a30817ac1e8957692f62d8d6ede9397209b739e8998bf47aa55aa3c21280e1dc8416c23b8f33393448037e8f03896657e1738535d5276288ea738205dc8969d95d62b796e2f2ddd282f6f277c5935eaf850fa684cb94a2972197d6b7a99df55136db90488a6864b5507e40f"
        #         ]
        #     ],
        #     "value": 1,
        # },
        # {"name": "setOperator", "args": [OPERATOR_ADDRESS], "value": 0},
        # {
        #     "name": random.choice(["betPump", "betDump"]),
        #     "args": [],
        #     "value": int(0.15 * 10**18),
        # }
        # for _ in range(2)
        # {
        #     "name": "setOperator",
        #     "args": ["0x7DE4E5E811E9610027AC1b72538F0a26E1dBE816"],
        #     "value": 0,
        # }
        # {
        #     "name": "cancelRound",
        #     "args": [
        #         67,
        #         [
        #             "0x504e41550100000003b801000000040d027452e0c11a27e5ea31cf78311f410d4f59bd43c7b4bb3781c88faceb6b4a266d0518177566e50cf8fe9b4c97f5a85619ff8ab1d2cb543c95cf421688e57538550003ed21428839d87b190ae22105d952db26807f6be583245488ccd8b6d0666f611a3fb2d50bbf61141b2b952c176f04c8bedcc2fe0b9a97616aff35f3778dfd034c01042ae268cc93f765400bf8512e59da09fda62e4b2c2610f6d08697c1bea3a59fac535ac69c94bf6277c65f74478982b9f7792fd35d5aa30ad2509522e43ba657e60006a032011663c6e8edcaa3db19f8ea75cec911432b36e3c058c8d94ece565e112c4eb118330914c2d26dafae983a9de4bdb5b32e5685fbb233d10923d208649b360008eb39685323a95cefaa29c9e2c17723f9ee6fdbca58d32233ef7ffd13920d03a752a5e15bcc8a5fa851a0573679ce4898acfb6f5554fc45268c55f39c2712c898010ac4497d0fed4bab64ccb3e418847a50ea151a004788f5d29d95d6328bbe0870fe2dfdc6a51cbf6f18b725610b977899c99c0a5f5f0a52f73d44820327ebecedf5010bc72001703e00f2b891640fdbdb8b9b714b55fab62c5334f82db280735b72bfa32e9f4dc5fcceaa3efcf452ad164c3821ddff0672a2042015ad5f9260441546c1010cdb4f70a629896ef5f99eb17af41df0f8bee46ca1755d1b816d13ab3da0a36ebe34780b21883696800134b6ce5281e304a06bfc901ff0099673b726f41654acd5010d97db8f97b06b339dacea9e410977192ec714930222e075606701e58e75421dc50452f18106dbfdd50dbf40d43c0d6ab34c2346624727cac21705caa4e1d87b62000f303bfa31450ecdd3f25073cf871ca47f941868080c8f91d0e65dfae6fa6088a52eccc3cd27d8a4f51f496251c42d639f1e17c391393c6d6c9a992af9b2e6b8040110eb05a36210913233542da1a65a208d81b03219dff85391475ecc4a1a2fd8f69b131df9ea36b0b0a3d3cd788b2a115849a6b549e4cf2bd59bce08fb6e63a5b08f00119a6e463e39842da8bc816b2d8ea226ef98dcf2552ad0f923a7eabf32a3a09a2e210dcd655b3e14c0b1efa7756e1a01ef30adde55f5659533f991c5d27a0e108b011240f229a5e6e81e7ec9baeedcc10fc954457d227fb00cac8f521973ea33431f4f6b896322c492c7b19ff17d2fbdc7d05dd88b8d5e53aa227398a92344321ffe1b01687f983e00000000001ae101faedac5851e32b9b23b5f9411a8c2bac4aae3ed4dd7b811dd1a72ea4aa710000000008bd575b014155575600000000000dcae71100002710ed95888b1e805b94db5f5eaaf33090814c7c274601005500e62df6c8b4a85fe1a67db44dc12de5db330f7ac66b72dc658afedf0f4a415b4300000ac3ef518e800000000101b7ab09fffffff800000000687f983e00000000687f983e00000ad706cc51e00000000110aab6880cef134a3da025290659e9a60f36306eadc21311f8bfb212a8325e4c6cf85b01041b274ab8626340edeb43ec21dc24a02a5152f9d104e059366bbe3ecac238468ef250b76d48ec2969fd1817fe694672913a63cc5e6c7fde8edfab4ddf23b85127bbbd1034c4515634fe96483c057d793d1378fffc6cc02aac81d645de48672ac99024f8d62d4d3e124a64ee6e804ba6e6cc2b5c788e774fd0aded0026f0ceae23bbb42945e3862e8ca0087b7782d867e486562756f8c1833a15a63825687c0ee3dc491dd06f77f39d6d21ee818ce3a0dbe8e532fd44cf04f8f5d629dfae50dd5492a143cc375e7d3e6645fa92dced8150"
        #         ],
        #     ],
        #     "value": 1,
        # },
        # {
        #     "name": "cancelRound",
        #     "args": [
        #         75,
        #         [
        #             "0x504e41550100000003b801000000040d02bf7717481b2f4701b0a53428616222c135d30595044c4d919646bd3e746a5c0c71fcd07b8bdd69d4d7241a137c7cc1dfae00f786d195d3bdcd2921914957e29400038cd467fee869b279196d917a9da65bb3fd44247398009889f2ba082b7ccc29635ea2ab4e902d96f431deceab8b32f61e6949db7856ec1197f01ae063d2ec6fab00040eeec3c957ec39c6e3c05bd661b33b1e4a8e5060f5e279f4ee8c2f3f912a060b3269a81b806c9d2413550ba8816804d25c56852b2791d9016f33654dbd31cce60008a9a601fd8ad6a4a1313fc31a63b5e607966e0350a4ca77070f2f6bbbd11faa404d3f256a78734dfa9d37825bfb541d810efc79baf481f6465cfce6c98b8f4e47000a375de214439cf053f1be782c46e4bb9fd3b81b2c3dac3d7f69ab3a789636bfe66f8a449f0488dad0dbb35cceaf953188607eab87e598cade542cd182fb224496000bdbca35b6fc4a36731661d64767ba648698c9786434f48f17a69315293b2bc4e23c947dc9535f0c1c50c105e59ad24a21e8ea66bd0fe22a2211cbf9d800342434000c4311ba6b58482c73d8c4c8cdc9f3d46bea450bb8a8151ea107f4cd3b7851a8092ee0ef1c4d447b0471ffc7fb4b46930151ee2155c48dd50b6460c19f3193781e000daff00a337b77a1620be79201cd61ba6c7c3f532c9dbaae50b17162b0fbb560811388b45ca4e6167041c7406d695f1604e313554466409494390043bd7152f6bb010efe201a141083ead5b6e437d28715ffe44620ff28f07c791cb63a51e30be4bc612bf006cd6162a53d59bbe31c01f3f4873c91729252e521b206d54b18eab65104010faabfa2839dd00f62acc8b0e15677ae846288a85c7c6dad9ea30b35ff8487fde13ddfb04efeb155e62acf06c09521cb86f265fd3067f33b728be87461fbeb36ed0110fd84f6a4b88c90d5e9062181b25223edc768d62129fac50edbc09c50f97ea74951746bc4a7d41a129cc2e43122ac20c1809a923f42c382595091b5ced24cc5e50011f1e50ba3492e66bab4b0c3557bbc8d35bca3820a7f6f45c7a1597ea229293111332c4ed8fd3a0a1181c8f057c98b98b04d48fe2eaf14acb7425ca6368b772d6a0012f7638ce63c469506b5bcbfef8dbdc0658cc785b49da7564a32ddf303de298a0c332a97687d894b37b82c4979093e6c19d59a8c057c92381904492e1e9402295a01687f98c200000000001ae101faedac5851e32b9b23b5f9411a8c2bac4aae3ed4dd7b811dd1a72ea4aa710000000008bd589b014155575600000000000dcae85100002710a14d1f35dbac8616ac1eef22584863261542994a01005500e62df6c8b4a85fe1a67db44dc12de5db330f7ac66b72dc658afedf0f4a415b4300000ac493f2de33000000011a909abefffffff800000000687f98c200000000687f98c200000ad65c41df6000000001112837700c5688babf1ec2aa37199b559935332efa85b225fae89f992a47ddc8460fa6105922e6a028281c6c4cb1feea52602fc790ba0a126d2471e0194df8599e5501dc5d11907b39281276b4be1f6b52f3100ec5d0b2b08f497670521c2aa418e8335401ed7f923df613ecb8be60f9508879233bec6751f0d78b6abe55da7b57a8e662b889db6600876ab66cecec575b40e347ef816ce9c510d31c6aefb9140fb808319be2638ecc4dfaf7945cce90408b79f23f8c1e37fd8a843b9374dbbf4dbb67557bdd7e36a8346613241a38b92e55057519e9076b256e738af9dc5aca9b28f75de783218349de8a26b03c4d5517435d3165"
        #         ],
        #     ],
        #     "value": 1,
        # },
    ]

    # read_commands = [
    #     {"name": "currentRoundId", "args": []},
    #     {"name": "getUserClaimableAmount", "args": [client.address]},
    #     {"name": "getUserRounds", "args": [client.address]},
    # ]

    for command in commands:
        try:
            interface.execute_write_function(
                function_name=command["name"],
                client=client,
                args=command["args"],
                value=command["value"],
                estimate_gas=False,
            )
        except Exception as e:
            print(f"Error: {str(e)}")
        time.sleep(20)

    time.sleep(2)

    # for command in read_commands:
    #     try:
    #         interface.execute_read_function(
    #             function_name=command["name"],
    #             client=client,
    #             args=command["args"],
    #         )
    #     except Exception as e:
    #         print(f"Error: {str(e)}")
    #     time.sleep(2)
